<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seu Plano, Sua Escolha: Simule e Decida</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .table-fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4 py-10">

    <div class="max-w-4xl w-full bg-white rounded-xl shadow-2xl overflow-hidden mx-auto ">
        

        <div class="grid grid-cols-2 gap-0 p-1 bg-blue-500 rounded-lg border">
            <img src="https://www.aeronautas.org.br/wp-content/themes/sna_tema-sna/assets/imgs/logo.png"
	class="block mx-auto h-24 w-auto flex items-center " >

	<img src="https://i.ibb.co/DgfW63kz/5.png"
	class="block mx-auto h-24 w-auto flex items-center " >
        </div>

        <div class="p-8 md:p-10">
            <header class="text-center mb-6">
                <h1 class="text-3xl md:text-4xl font-bold text-gray-700 ">
                    Seu Plano, Sua Escolha.
                </h1>
                <p class="text-lg text-gray-700 mt-3">
                    Este é o momento ideal para reavaliar seus benefícios.
                </p>
            </header>

            
            <div class="text-center mb-8">
                <p class="text-gray-700 text-base md:text-lg leading-relaxed max-w-2xl mx-auto">
                    Com o reajuste anual de <strong>12,96%</strong> (vigente a partir de <strong>julho/2025</strong>), oferecemos a flexibilidade que você precisa. Use as ferramentas abaixo para tomar a melhor decisão para você e sua família.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">
                <div class="bg-teal-50 border border-teal-200 p-6 rounded-lg text-center">
                    <h3 class="font-bold text-xl text-teal-700 mb-2">Upgrade</h3>
                    <p class="text-teal-900">Amplie sua cobertura para ter ainda mais tranquilidade e acesso a serviços completos.</p>
                </div>

                <div class="bg-orange-50 border border-orange-200 p-6 rounded-lg text-center">
                    <h3 class="font-bold text-xl text-orange-700 mb-2">Downgrade</h3>
                    <p class="text-orange-900">Ajuste seu plano para uma opção que se encaixe perfeitamente no seu orçamento atual.</p>
                </div>
            </div>
            
            <div id="cost-simulator" class="bg-gray-50 p-6 rounded-lg border border-gray-200">
                <h2 class="text-2xl font-bold text-gray-800 text-center mb-1">Passo 1: Simule Seus Custos</h2>
                <p class="text-center text-gray-600 mb-6">Insira as idades para ver os valores atuais e os reajustados.</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label for="current-plan" class="block text-sm font-medium text-gray-700">Seu plano atual</label>
                        <select id="current-plan" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500">
                            <option>Exato</option>
                            <option>Clássico</option>
                            <option>Especial</option>
                        </select>
                    </div>
                    <div>
                        <label for="holder-age" class="block text-sm font-medium text-gray-700">Sua idade (Titular)</label>
                        <input type="number" id="holder-age" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500" placeholder="Ex: 35">
                    </div>
                </div>

                <div id="dependents-section" class="mb-4">
                    <label class="block text-sm font-medium text-gray-700">Idade dos dependentes (se houver)</label>
                    <div id="dependents-list" class="space-y-2 mt-1"></div>
                    <button id="add-dependent-btn" class="mt-2 text-sm text-teal-600 hover:text-teal-800 font-semibold">+ Adicionar dependente</button>
                </div>
                
                <button id="calculate-btn" class="w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-500 transition-colors flex items-center justify-center">
                    Calcular Custos (Atual vs. Reajustado)
                </button>

                <div id="simulation-results" class="mt-6 hidden"></div>
            </div>

            <div id="network-viewer" class="bg-indigo-50 p-6 rounded-lg border border-indigo-200 mt-8">
                <h2 class="text-2xl font-bold text-gray-800 text-center mb-1">Passo 2: Consulte a Rede Credenciada</h2>
                <p class="text-center text-gray-600 mb-6">Selecione sua região e clique no botão para abrir o PDF da rede em uma nova aba.</p>
                <div class="flex flex-col sm:flex-row gap-4 items-end">
                    <div class="w-full sm:w-2/3">
                        <label for="region" class="block text-sm font-medium text-gray-700">Selecione sua região</label>
                        <select id="region" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="https://drive.google.com/file/d/1cVOgZluPrh7JwiVgPybRmOOnq8WAphio/view?usp=drive_link">São Paulo e Rio de Janeiro</option>
                            <option value="https://drive.google.com/file/d/1bdzeeM3DlOUtiQC-hPwjpzdlYDZvbL-u/view?usp=drive_link">Sul</option>
                            <option value="https://drive.google.com/file/d/1ZAXHjynlqjyoxNZjMnS04BzeOfAsyMyA/view?usp=drive_link">Minas Gerais</option>
                            <option value="https://drive.google.com/file/d/14PWVUiS5NLZA8weiQhjriPmft40tYEx3/view?usp=drive_link">Centro-Oeste</option>
                            <option value="https://drive.google.com/file/d/1xV6iQN5i4ukWUYwUscBKepAqzByC4wKU/view?usp=drive_link">Nordeste</option>
                            <option value="https://drive.google.com/file/d/1WsnTQeDhCECGfxrtGBCHM3uw3z38A9Ql/view?usp=drive_link">Norte</option>
                        </select>
                    </div>
                    <button id="view-network-btn" class="w-full sm:w-1/3 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-500 transition-colors">
                        Abrir PDF da Rede
                    </button>
                </div>
            </div>

            <div class="bg-gray-800 text-white p-6 rounded-lg text-center shadow-md mt-10">
                <h2 class="text-xl font-bold mb-1">Ficou com dúvidas ou decidiu mudar?</h2>
                <p class="text-gray-100">Fale com o RH para validar os detalhes e efetivar a sua escolha.</p>
            </div>
        </div>
    </div>

<script>
    // --- DADOS DOS PREÇOS (ATUAL E REAJUSTADO) ---
    const pricingDataAtual = {
      "Exato": [ { ageRange: [0, 18], price: 585.00 }, { ageRange: [19, 23], price: 731.17 }, { ageRange: [24, 28], price: 906.66 }, { ageRange: [29, 33], price: 1006.40 }, { ageRange: [34, 38], price: 1076.82 }, { ageRange: [39, 43], price: 1249.14 }, { ageRange: [44, 48], price: 1493.21 }, { ageRange: [49, 53], price: 1749.99 }, { ageRange: [54, 58], price: 2083.41 }, { ageRange: [59, 999], price: 3509.43 } ],
      "Clássico": [ { ageRange: [0, 18], price: 640.31 }, { ageRange: [19, 23], price: 800.39 }, { ageRange: [24, 28], price: 992.49 }, { ageRange: [29, 33], price: 1101.65 }, { ageRange: [34, 38], price: 1178.74 }, { ageRange: [39, 43], price: 1367.37 }, { ageRange: [44, 48], price: 1634.55 }, { ageRange: [49, 53], price: 1915.69 }, { ageRange: [54, 58], price: 2280.59 }, { ageRange: [59, 999], price: 3841.74 } ],
      "Especial": [ { ageRange: [0, 18], price: 670.08 }, { ageRange: [19, 23], price: 837.64 }, { ageRange: [24, 28], price: 1038.68 }, { ageRange: [29, 33], price: 1152.92 }, { ageRange: [34, 38], price: 1233.62 }, { ageRange: [39, 43], price: 1430.99 }, { ageRange: [44, 48], price: 1710.63 }, { ageRange: [49, 53], price: 1990.21 }, { ageRange: [54, 58], price: 2386.85 }, { ageRange: [59, 999], price: 4020.55 } ]
    };
    const pricingDataReajustado = {
      "Exato": [ { ageRange: [0, 18], price: 660.82 }, { ageRange: [19, 23], price: 825.93 }, { ageRange: [24, 28], price: 1024.11 }, { ageRange: [29, 33], price: 1136.85 }, { ageRange: [34, 38], price: 1216.36 }, { ageRange: [39, 43], price: 1411.04 }, { ageRange: [44, 48], price: 1686.73 }, { ageRange: [49, 53], price: 1976.81 }, { ageRange: [54, 58], price: 2353.42 }, { ageRange: [59, 999], price: 3964.27 } ],
      "Clássico": [ { ageRange: [0, 18], price: 723.31 }, { ageRange: [19, 23], price: 904.12 }, { ageRange: [24, 28], price: 1121.12 }, { ageRange: [29, 33], price: 1244.42 }, { ageRange: [34, 38], price: 1331.50 }, { ageRange: [39, 43], price: 1544.59 }, { ageRange: [44, 48], price: 1846.42 }, { ageRange: [49, 53], price: 2163.96 }, { ageRange: [54, 58], price: 2575.15 }, { ageRange: [59, 999], price: 4339.63 } ],
      "Especial": [ { ageRange: [0, 18], price: 756.92 }, { ageRange: [19, 23], price: 946.18 }, { ageRange: [24, 28], price: 1173.28 }, { ageRange: [29, 33], price: 1302.35 }, { ageRange: [34, 38], price: 1393.30 }, { ageRange: [39, 43], price: 1616.45 }, { ageRange: [44, 48], price: 1932.33 }, { ageRange: [49, 53], price: 2248.16 }, { ageRange: [54, 58], price: 2696.19 }, { ageRange: [59, 999], price: 4541.62 } ]
    };

    // --- ELEMENTOS DO DOM ---
    const holderAgeInput = document.getElementById('holder-age');
    const addDependentBtn = document.getElementById('add-dependent-btn');
    const dependentsList = document.getElementById('dependents-list');
    const calculateBtn = document.getElementById('calculate-btn');
    const simulationResultsDiv = document.getElementById('simulation-results');
    const currentPlanSelect = document.getElementById('current-plan');
    const regionSelect = document.getElementById('region');
    const viewNetworkBtn = document.getElementById('view-network-btn');
    
    let dependentCount = 0;

    // --- EVENTOS ---
    addDependentBtn.addEventListener('click', addDependentInput);
    calculateBtn.addEventListener('click', calculateAndDisplayCosts);
    viewNetworkBtn.addEventListener('click', openNetworkLink);

    // --- FUNÇÕES ---
    function addDependentInput() {
        dependentCount++;
        const div = document.createElement('div');
        div.className = 'flex items-center gap-2 mt-2';
        div.innerHTML = `
            <input type="number" placeholder="Idade do dependente ${dependentCount}" class="w-full p-2 border border-gray-300 rounded-md shadow-sm">
            <button class="remove-dependent-btn text-red-500 hover:text-red-700 font-bold px-2">&times;</button>
        `;
        dependentsList.appendChild(div);
        div.querySelector('.remove-dependent-btn').addEventListener('click', () => {
            div.remove();
        });
    }

    function getPriceForAge(age, planName, pricingData) {
        if (age === null || age < 0 || !pricingData[planName]) return 0;
        const tier = pricingData[planName].find(p => age >= p.ageRange[0] && age <= p.ageRange[1]);
        return tier ? tier.price : 0;
    }

    function formatCurrency(value) {
        return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
    }

    function calculateAndDisplayCosts() {
        const holderAge = parseInt(holderAgeInput.value, 10) || null;
        if (!holderAge) {
            alert('Por favor, insira a idade do titular.');
            return;
        }

        const dependentAgeInputs = dependentsList.querySelectorAll('input');
        const dependentAges = Array.from(dependentAgeInputs).map(input => parseInt(input.value, 10) || 0).filter(age => age > 0);
        
        const plans = ["Exato", "Clássico", "Especial"];
        const totalsAtuais = { Exato: 0, Clássico: 0, Especial: 0 };
        const totalsReajustados = { Exato: 0, Clássico: 0, Especial: 0 };
        let tableRows = '';

        const allAges = [ {type: 'Titular', age: holderAge}, ...dependentAges.map((age, i) => ({type: `Dependente ${i+1}`, age}))];

        allAges.forEach((person, index) => {
            const isTitular = person.type === 'Titular';
            
            let personLabel = `${person.type} (${person.age} anos)`;
            if (isTitular) {
                personLabel += ` <span class="text-xs font-normal text-red-600">(Subsídio no plano Exato)</span>`;
            }

            tableRows += `<tr class="border-b"><td class="p-2 font-semibold text-gray-800">${personLabel}</td>`;
            
            // --- LÓGICA DE CÁLCULO ATUALIZADA ---
            let finalPriceAtual, finalPriceReajustado;

            if (isTitular) {
                // Para o titular, o subsídio é sempre 90% do valor do plano EXATO.
                const subsidyAtual = getPriceForAge(person.age, 'Exato', pricingDataAtual) * 0.90;
                const subsidyReajustado = getPriceForAge(person.age, 'Exato', pricingDataReajustado) * 0.90;

                plans.forEach(planName => {
                    const fullPriceAtual = getPriceForAge(person.age, planName, pricingDataAtual);
                    const fullPriceReajustado = getPriceForAge(person.age, planName, pricingDataReajustado);

                    if (planName === 'Exato') {
                        // No plano Exato, o titular paga 10%
                        finalPriceAtual = fullPriceAtual * 0.10;
                        finalPriceReajustado = fullPriceReajustado * 0.10;
                    } else {
                        // Nos outros planos, paga a diferença (Valor do plano - subsídio do Exato)
                        finalPriceAtual = fullPriceAtual - subsidyAtual;
                        finalPriceReajustado = fullPriceReajustado - subsidyReajustado;
                    }
                    
                    totalsAtuais[planName] += finalPriceAtual;
                    totalsReajustados[planName] += finalPriceReajustado;
                    
                    tableRows += `
                        <td class="p-2 text-center text-sm text-gray-600">${formatCurrency(finalPriceAtual)}</td>
                        <td class="p-2 text-center text-sm font-semibold text-teal-700">${formatCurrency(finalPriceReajustado)}</td>
                    `;
                });

            } else {
                // Para dependentes, a regra é simples: 100% do valor do plano.
                plans.forEach(planName => {
                    finalPriceAtual = getPriceForAge(person.age, planName, pricingDataAtual);
                    finalPriceReajustado = getPriceForAge(person.age, planName, pricingDataReajustado);
                    
                    totalsAtuais[planName] += finalPriceAtual;
                    totalsReajustados[planName] += finalPriceReajustado;

                    tableRows += `
                        <td class="p-2 text-center text-sm text-gray-600">${formatCurrency(finalPriceAtual)}</td>
                        <td class="p-2 text-center text-sm font-semibold text-teal-700">${formatCurrency(finalPriceReajustado)}</td>
                    `;
                });
            }
            tableRows += `</tr>`;
        });
        
        const selectedPlan = currentPlanSelect.value;
        const resultHTML = `
            <h3 class="text-xl font-bold text-gray-800 text-center mb-4">Resultado da Simulação</h3>
            <div class="overflow-x-auto table-fade-in">
                <table class="w-full text-sm text-left text-gray-700 bg-white rounded-lg shadow">
                    <thead class="bg-gray-200 text-xs uppercase">
                        <tr>
                            <th rowspan="2" class="p-2 align-middle">Beneficiário</th>
                            ${plans.map(p => `<th colspan="2" class="p-2 text-center ${p === selectedPlan ? 'bg-teal-100' : ''}">Plano ${p}</th>`).join('')}
                        </tr>
                        <tr>
                            ${plans.map(p => `<th class="p-2 text-center font-medium ${p === selectedPlan ? 'bg-teal-100' : ''}">Valor Atual</th><th class="p-2 text-center font-medium ${p === selectedPlan ? 'bg-teal-100' : ''}">Valor Reajustado</th>`).join('')}
                        </tr>
                    </thead>
                    <tbody>
                        ${tableRows}
                        <tr class="bg-gray-800 text-white font-bold">
                            <td class="p-3">TOTAL MENSAL (Custo para o colaborador)</td>
                            ${plans.map(p => `
                                <td class="p-3 text-center text-base">${formatCurrency(totalsAtuais[p])}</td>
                                <td class="p-3 text-center text-base font-extrabold text-teal-300">${formatCurrency(totalsReajustados[p])}</td>
                            `).join('')}
                        </tr>
                    </tbody>
                </table>
            </div>
            <p class="text-xs text-center text-gray-500 mt-2">* A(s) coluna(s) destacada(s) representa(m) seu plano atual para facilitar a comparação.</p>`;
        
        simulationResultsDiv.innerHTML = resultHTML;
        simulationResultsDiv.classList.remove('hidden');
    }

    function openNetworkLink() {
        const selectedUrl = regionSelect.value;
        window.open(selectedUrl, '_blank');
    }
</script>

</body>
</html>